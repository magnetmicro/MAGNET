MAGNET: Method-based Approach using Graph Neural Network for Microservices Identification
===============================

This is the replication package accompanying our paper, **Graph Clustering with Graph Neural Networks** submitted to the *21st IEEE International Conference on Software Architecture (ICSA 2024)*.

Overview
---
MAGNET is a fully-automated approach developed to identify microservices. It uses graph neural networks (GNNs) with a fine-grained method-based graph enriched with semantic
and static features of the system. It enables accurate microservices identification. It tries to simultaneously promote microservice cohesion and reduce microservice coupling.

This project is designed to be standalone and utilizes *Docker* for easy replication of results, as well as to facilitate the model's usability, modification, and execution.




Project structure
---

- ### Dockerfile
The Dockerfile provides a containerized environment for seamless replication of results and simplified usage and modification of the model.

- ### graph_embedding
    - This folder contains the code to run MAGNET, which is used to identify microservices for a specific project.
    - **data:** This folder contains the projects used in the paper to evaluate our approach.
    - **visualization:** The visualization folder contains a notebook for some visualizations created in the paper.

- ### results
    - This folder contains the results used in the paper (results of applying MAGNET on 4 systems).




Example usage
---

To facilitate the usage and results replication, MAGNET can be run inside a Docker container. 
Follow the steps below to build the Docker image and run MAGNET to identify microservices for a specific project.

1. Clone the MAGNET repository:
    ```bash
    git clone https://github.com/microsoft/MAGNET.git
    ```

2. Navigate to the MAGNET directory:
    ```bash
    cd MAGNET
    ```

3. Build the Docker image:
    ```bash
    docker build -t magnet-image .
    ```

4. Create a docker container from the built image and connect to the running Docker container:
    ```bash
    docker run -it --name magnet-container magnet-image
    ```

    The above command should be run once (the first time) to create a container from the built image. 
    For subsequent attempts, we should use the following commands to start and connect to the created docker container:
    ```bash
    docker start magnet-container
    ```

    To stop the container:
    ```bash
    docker stop magnet-container
    ```

    MAGNET is now set up to run within a Docker container for your project, and you can easily start, connect, and stop the container as needed.

5. Run MAGNET: Execute the following command to identify microservices for a specific project (POS project in this example):
    ```bash
    python train.py --system_path=./data/POS --kdm_file_path=./data/POS/KDM/inventory_kdm.xmi --system_code_path=./data/POS/JavaFX-Point-of-Sales-master
    ```
    where:
    - *system_path*: path to the working directory where the results and output files will be saved.
    - *system_code_path*: path to the root of the system code.
    - *kdm_file_path*: path to the kdm file of the system generated by MoDisco.


Citing
---
TODO


Contact us
---
TODO



